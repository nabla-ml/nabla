/* ============================================================
   Nabla Documentation â€” custom_minimal.css
   Sphinx Book Theme, dark-mode-only site.

   Sections:
   1.  CSS Variables (colour tokens)
   2.  Global structural (backgrounds, borders)
   3.  Header & navigation chrome
   4.  Sidebar widths  (SBT breakpoints: primary 992px, secondary 1200px)
   5.  Homepage         (html.home-landing â€” class set by <script> in <head>)
   6.  Hero section
   7.  Card grid
   8.  Code blocks
   9.  Notebook cells
   10. Mobile (â‰¤768px)
   ============================================================ */


/* ============================================================
   1. CSS VARIABLES
   ============================================================ */

/* Force dark palette for both themes (site is dark-only) */
html[data-theme="dark"],
html[data-theme="light"],
html {
    --nabla-header-height: 58px;
    --pst-color-background: #000000;
    --pst-color-on-background: #000000;
    --pst-color-surface: #000000;
    --pst-color-primary: #ffe6cc;
    --pst-color-primary-bg: #3a2715;
    --pst-color-primary-text: #14181e;
    --pst-color-link: #ffe6cc;
    --pst-color-link-hover: #fff5e6;
    --pst-color-border: #2a2a2a;
    --pst-color-shadow: rgba(0, 0, 0, 0.5);
    /* Secondary sidebar width â€” no !important (ignored on custom props) */
    --pst-sidebar-secondary: 13rem;
}


/* ============================================================
   2. GLOBAL STRUCTURAL
   ============================================================ */

html,
body,
.bd-container,
.bd-container__inner,
.bd-main,
.bd-page-width,
.bd-content,
.bd-article-container {
    background-color: #000000 !important;
}

footer.bd-footer-content {
    border-top: 1px solid #2a2a2a !important;
}

hr,
table.docutils td,
table.docutils th {
    border-color: #2a2a2a !important;
}

.bd-sidebar-primary .sidebar-primary-items__start {
    border-top-color: #2a2a2a !important;
}


/* ============================================================
   3. HEADER & NAVIGATION CHROME
   ============================================================ */

.bd-header {
    min-height: var(--nabla-header-height);
    background-color: #000000 !important;
    border-bottom: 1px solid #1f1f1f;
    position: sticky !important;
    top: 0 !important;
    z-index: 1030 !important;
}

/* Hide: theme switcher, download/fullscreen, per-article header */
.theme-switch-button,
.bd-theme-switch,
button[title*="theme"],
button[title*="Theme"],
.dropdown-download-buttons,
.btn-fullscreen-button,
.secondary-toggle,
.bd-header-article {
    display: none !important;
}

/* Hide sidebar logo & inline search (topbar has both) */
.bd-sidebar-primary .navbar-brand.logo,
.bd-sidebar-primary .search-button-field,
.bd-sidebar-primary .sidebar-primary-item:has(.search-button-field) {
    display: none !important;
}

/* Keep sidebar-toggle and search buttons in topbar */
.bd-header button.sidebar-toggle,
.bd-header button.search-button {
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    color: #e0e0e0 !important;
    background: transparent !important;
    border: none !important;
}

/* â”€â”€ Custom topbar component styles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

.nabla-topbar {
    width: 100%;
    padding: 0.75rem 1.25rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.nabla-topbar-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.nabla-topbar-brand {
    font-weight: 700;
    font-size: 1.15rem;
    color: #ffffff !important;
    text-decoration: none !important;
}

.nabla-topbar-brand:hover {
    color: #cccccc !important;
}

.nabla-topbar-actions {
    display: flex;
    align-items: center;
}

.nabla-gh-link {
    display: inline-flex !important;
    align-items: center;
    color: #e0e0e0 !important;
    text-decoration: none !important;
    font-size: 1.25rem;
    padding: 0.35rem 0.5rem;
    border-radius: 6px;
}

.nabla-gh-link:hover {
    color: #ffffff !important;
    background: rgba(255, 255, 255, 0.07) !important;
    text-decoration: none !important;
}

.nabla-sidebar-toggle,
.nabla-search-link {
    display: inline-flex !important;
    align-items: center;
    color: #e0e0e0 !important;
    background: transparent !important;
    border: none !important;
    font-size: 1.1rem;
    padding: 0.35rem 0.5rem;
    border-radius: 6px;
    text-decoration: none !important;
    cursor: pointer;
}

.nabla-sidebar-toggle:hover,
.nabla-search-link:hover {
    color: #ffffff !important;
    background: rgba(255, 255, 255, 0.07) !important;
}


/* ============================================================
   4. SIDEBAR WIDTHS
   SBT breakpoints: left sidebar appears at 992px,
                    right sidebar appears at 1200px.
   ============================================================ */

@media (min-width: 992px) {
    .bd-sidebar-primary {
        flex: 0 0 13rem !important;
        width: 13rem !important;
        min-width: 13rem !important;
        max-width: 13rem !important;
        top: var(--nabla-header-height) !important;
        height: calc(100vh - var(--nabla-header-height)) !important;
        max-height: calc(100vh - var(--nabla-header-height)) !important;
        margin: 0 !important;
        padding-left: 1rem !important;
        padding-right: 0.65rem !important;
    }

    input#pst-primary-sidebar-checkbox:checked~.bd-container .bd-sidebar-primary {
        margin-left: -13rem !important;
    }

    .bd-sidebar-primary nav.bd-links {
        margin: 0 !important;
        padding-left: 0 !important;
    }

    .bd-sidebar-primary nav.bd-links ul ul {
        padding-left: 0.8rem !important;
    }

    .bd-sidebar-primary nav.bd-links li>a {
        margin-right: 0 !important;
        padding-left: 0.35rem !important;
        padding-right: 0.8rem !important;
    }

    .bd-sidebar-primary li.has-children .caption,
    .bd-sidebar-primary li.has-children>.reference {
        margin-right: calc(25px + 0.4rem) !important;
    }

    .bd-sidebar-primary li.has-children>details>summary .toctree-toggle {
        right: 0.5rem !important;
    }
}

@media (min-width: 1200px) {
    .bd-sidebar-secondary {
        flex: 0 0 13rem !important;
        width: 13rem !important;
        min-width: 13rem !important;
        max-width: 13rem !important;
        top: var(--nabla-header-height) !important;
        height: calc(100vh - var(--nabla-header-height)) !important;
        max-height: calc(100vh - var(--nabla-header-height)) !important;
        margin: 0 !important;
        padding: 0 1rem !important;
    }
}


/* ============================================================
   5. HOMEPAGE  (html.home-landing)
   Class is stamped synchronously on <html> by an inline <script>
   injected in the <head> by layout.html (pagename == 'index').
   ============================================================ */

html.home-landing .bd-main .bd-content {
    padding-left: 0 !important;
    padding-right: 0 !important;
}

html.home-landing .bd-content section {
    margin-top: 2.2rem !important;
}

html.home-landing .bd-article>section>h1,
html.home-landing .bd-article>section>h2,
html.home-landing .bd-article>section>h3 {
    margin-top: 0 !important;
    margin-bottom: 1.5rem !important;
    font-size: clamp(1.7rem, 2.4vw, 2rem) !important;
}

html.home-landing .bd-article>section>h4 {
    margin-top: 0 !important;
    margin-bottom: 1.25rem !important;
    font-size: clamp(1.25rem, 1.8vw, 1.4rem) !important;
}


/* ============================================================
   6. HERO SECTION
   ============================================================ */

.landing-hero {
    text-align: left;
    padding: clamp(1rem, 3vw, 2.5rem) 0 0;
    width: 100%;
    box-sizing: border-box;
}

.landing-title {
    margin: 0 0 clamp(1.5rem, 4vw, 3.5rem) !important;
    max-width: 980px;
    width: 100%;
    color: #ffffff;
    font-size: clamp(2.4rem, 5vw, 3.5rem);
    line-height: 1.1;
    letter-spacing: -0.02em;
    font-weight: 680;
    box-sizing: border-box;
}

.landing-subtitle {
    max-width: 820px;
    width: 100%;
    margin: 0 0 clamp(1.5rem, 3vw, 2.5rem) !important;
    font-size: clamp(1rem, 2vw, 1.1rem);
    line-height: 1.6;
    color: #b8b8b8;
    box-sizing: border-box;
}

.landing-install {
    width: 100%;
    max-width: 940px;
    margin: 0 0 clamp(1.5rem, 3vw, 2.5rem) !important;
    box-sizing: border-box;
}

.landing-hero div.highlight {
    width: 100%;
    max-width: 940px;
    margin: 0 0 clamp(1.5rem, 3vw, 2.2rem) !important;
    box-sizing: border-box;
}

.landing-hero div.highlight pre {
    margin: 0;
    padding: clamp(0.7rem, 2vw, 0.9rem) clamp(0.8rem, 2vw, 1.05rem);
    overflow-x: auto;
    white-space: pre;
    line-height: 1.45;
}


/* ============================================================
   7. CARD GRID
   ============================================================ */

.landing-grid-modular {
    margin-top: clamp(1.5rem, 3vw, 2.5rem) !important;
    max-width: 1100px;
    width: 100%;
    margin-left: 0;
    margin-right: auto;
    box-sizing: border-box;
}

.landing-grid-modular .sd-card {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
}

.landing-grid-modular .sd-card-body,
.landing-grid-modular .sd-card .sd-card-body {
    padding: 0 !important;
}

.home-nav-card .sd-card-body {
    display: flex;
    flex-direction: column;
}

.card-image-container {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: 12px !important;
    margin-bottom: 1.1rem;
    position: relative;
    overflow: hidden;
    background-color: #1a1a1a;
}

.card-media {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
    display: block !important;
    transition: transform 0.6s cubic-bezier(0.2, 0, 0, 1) !important;
}

.home-nav-card:hover .card-media {
    transform: scale(1.08) !important;
}

.card-title-bottom {
    font-size: 1.24rem;
    font-weight: 640;
    color: #ffffff !important;
    text-align: left;
    margin: 0 0 0.35rem;
    letter-spacing: -0.01em;
}

.card-subtitle {
    color: #b3b3b3;
    font-size: 0.96rem;
    line-height: 1.5;
    margin-bottom: 0.45rem;
}

.info-card {
    background: #080808 !important;
    border: none !important;
    border-radius: 14px !important;
}

.info-card .sd-card-title {
    font-size: 1.05rem !important;
    color: #ffffff !important;
}

.info-card .sd-card-text {
    color: #b3b3b3;
    line-height: 1.55;
    overflow-wrap: anywhere;
}

.info-card code {
    white-space: normal !important;
    overflow-wrap: anywhere;
    word-break: break-word;
}

.featured-example,
.blog-slot {
    margin-top: 2.22rem;
    border: none;
    border-radius: 14px;
    padding: 1rem 1.2rem;
    background: #080808;
}


/* ============================================================
   8. CODE BLOCKS
   ============================================================ */

html[data-theme="dark"] div.highlight {
    background-color: #1e1e1e !important;
    border: none !important;
    border-radius: 8px;
}

html[data-theme="dark"] div[class^="highlight-"] {
    background-color: transparent !important;
    border: none !important;
    padding: 0 !important;
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
}

html[data-theme="dark"] div.highlight pre {
    background-color: transparent !important;
    border: none !important;
    margin: 0 !important;
}

html[data-theme="dark"] code,
html[data-theme="dark"] tt,
html[data-theme="dark"] kbd,
html[data-theme="dark"] samp {
    background-color: #232323 !important;
}


/* ============================================================
   9. NOTEBOOK CELLS
   ============================================================ */

/* Outer container completely black, no borders */
div.nbinput.container,
div.nboutput.container {
    background-color: #000000 !important;
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

div.nboutput.container {
    margin-top: 12px !important;
    margin-bottom: 24px !important;
}

/* Remove In[]/Out[] prompt labels */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    display: none !important;
}

/* Full-width cells now that prompts are gone */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    width: 100% !important;
    flex: 1 1 100% !important;
    border: none !important;
    background-color: transparent !important;
    padding: 0 !important;
}

/* Inner Code Input Background */
div.nbinput.container div.highlight {
    background-color: #1e1e1e !important;
    border: none !important;
    border-radius: 8px;
    padding: 1.1rem !important;
}

/* Inner Code Output Background (almost black) */
div.nboutput.container div.output_area div.highlight {
    background-color: #0f0f0f !important;
    border: none !important;
    border-radius: 8px;
    padding: 1.1rem !important;
    margin: 0 !important;
}

div.nboutput.container div.output_area pre {
    background-color: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

/* Notebook action buttons (Colab, download) */
.notebook-buttons {
    margin: 1rem 0;
}

.colab-button,
.notebook-download {
    display: inline-block;
    background-color: #404040;
    color: #e0e0e0;
    border: 1px solid #606060;
    padding: 8px 16px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 400;
    margin: 0.5rem 0.5rem 0.5rem 0;
    transition: all 0.2s;
    font-size: 0.9rem;
}

.colab-button:hover,
.notebook-download:hover {
    background-color: #505050;
    border-color: #707070;
    text-decoration: none;
    color: #f0f0f0;
}

.colab-button::before {
    content: "ðŸš€ ";
}

.notebook-download::before {
    content: "â†“ ";
}


/* ============================================================
   10. MOBILE (â‰¤768px)
   ============================================================ */

@media (max-width: 768px) {
    .landing-title {
        line-height: 1.15;
    }

    .landing-hero {
        padding: 1rem 0 0;
    }

    .landing-grid-modular {
        margin-top: 1.5rem !important;
    }

    .card-image-container {
        margin-bottom: 0.8rem;
    }
}