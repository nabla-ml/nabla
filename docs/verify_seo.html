<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEO Verification Test</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: #000;
            color: #fff;
        }
        .check { color: #4ade80; }
        .error { color: #f87171; }
        .section { margin: 1.5rem 0; padding: 1rem; background: #111; border-radius: 8px; }
        pre { background: #222; padding: 1rem; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>Nabla Documentation SEO Verification</h1>
    
    <div class="section">
        <h2>Meta Tags Verification</h2>
        <div id="meta-check">Checking...</div>
    </div>
    
    <div class="section">
        <h2>Structured Data Verification</h2>
        <div id="structured-data-check">Checking...</div>
    </div>
    
    <div class="section">
        <h2>Performance Metrics</h2>
        <div id="performance-check">Checking...</div>
    </div>
    
    <div class="section">
        <h2>SEO Files Check</h2>
        <div id="files-check">Checking...</div>
    </div>

    <script>
        // Check meta tags
        function checkMetaTags() {
            const metaCheck = document.getElementById('meta-check');
            const checks = [];
            
            // Check essential meta tags
            const description = document.querySelector('meta[name="description"]');
            checks.push(description ? 
                `<span class="check">✓</span> Description meta tag found` : 
                `<span class="error">✗</span> Description meta tag missing`);
            
            const keywords = document.querySelector('meta[name="keywords"]');
            checks.push(keywords ? 
                `<span class="check">✓</span> Keywords meta tag found` : 
                `<span class="error">✗</span> Keywords meta tag missing`);
            
            const ogTitle = document.querySelector('meta[property="og:title"]');
            checks.push(ogTitle ? 
                `<span class="check">✓</span> Open Graph title found` : 
                `<span class="error">✗</span> Open Graph title missing`);
            
            const twitterCard = document.querySelector('meta[name="twitter:card"]');
            checks.push(twitterCard ? 
                `<span class="check">✓</span> Twitter Card found` : 
                `<span class="error">✗</span> Twitter Card missing`);
            
            metaCheck.innerHTML = checks.join('<br>');
        }
        
        // Check structured data
        function checkStructuredData() {
            const structuredCheck = document.getElementById('structured-data-check');
            const checks = [];
            
            const jsonLd = document.querySelector('script[type="application/ld+json"]');
            checks.push(jsonLd ? 
                `<span class="check">✓</span> JSON-LD structured data found` : 
                `<span class="error">✗</span> JSON-LD structured data missing`);
            
            const breadcrumbs = document.querySelector('[itemtype="https://schema.org/BreadcrumbList"]');
            checks.push(breadcrumbs ? 
                `<span class="check">✓</span> Breadcrumb schema found` : 
                `<span class="error">✗</span> Breadcrumb schema missing`);
            
            structuredCheck.innerHTML = checks.join('<br>');
        }
        
        // Check performance features
        function checkPerformance() {
            const perfCheck = document.getElementById('performance-check');
            const checks = [];
            
            // Check if service worker is available
            if ('serviceWorker' in navigator) {
                checks.push(`<span class="check">✓</span> Service Worker support available`);
            } else {
                checks.push(`<span class="error">✗</span> Service Worker not supported`);
            }
            
            // Check Core Web Vitals support
            if ('PerformanceObserver' in window) {
                checks.push(`<span class="check">✓</span> Performance Observer available`);
            } else {
                checks.push(`<span class="error">✗</span> Performance Observer not available`);
            }
            
            // Check lazy loading support
            if ('loading' in HTMLImageElement.prototype) {
                checks.push(`<span class="check">✓</span> Native lazy loading supported`);
            } else {
                checks.push(`<span class="error">✗</span> Native lazy loading not supported`);
            }
            
            perfCheck.innerHTML = checks.join('<br>');
        }
        
        // Check SEO files
        async function checkSEOFiles() {
            const filesCheck = document.getElementById('files-check');
            const checks = [];
            
            try {
                // Check robots.txt
                const robotsResponse = await fetch('/robots.txt');
                checks.push(robotsResponse.ok ? 
                    `<span class="check">✓</span> robots.txt accessible` : 
                    `<span class="error">✗</span> robots.txt not accessible`);
            } catch {
                checks.push(`<span class="error">✗</span> robots.txt check failed`);
            }
            
            try {
                // Check sitemap.xml
                const sitemapResponse = await fetch('/sitemap.xml');
                checks.push(sitemapResponse.ok ? 
                    `<span class="check">✓</span> sitemap.xml accessible` : 
                    `<span class="error">✗</span> sitemap.xml not accessible`);
            } catch {
                checks.push(`<span class="error">✗</span> sitemap.xml check failed`);
            }
            
            filesCheck.innerHTML = checks.join('<br>');
        }
        
        // Run all checks when page loads
        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                checkMetaTags();
                checkStructuredData();
                checkPerformance();
                checkSEOFiles();
            }, 1000); // Wait for SEO script to inject meta tags
        });
    </script>
</body>
</html>
